import{r as t,N as R,O as b,j as e,P as C,S as v,B as g}from"./index-B29v6BxU.js";import{e as c,C as h}from"./CodeEditor.component-B5BAun56.js";import{t as p}from"./text-sample.original-B6mw0xHt.js";import{d as y}from"./debounce.utils-CkXj8l4D.js";import"./editorWorker-CA1WEzK_.js";import{F as d}from"./index-B1ozlsfn.js";import{S as E}from"./index-DPoiLd4a.js";import{R as N}from"./ArrowRightOutlined-sZDoccLc.js";import{A as k}from"./index-l67K2Vdp.js";import"./row-BuWWOgRE.js";import"./gapSize-U1swVQyS.js";const T=`lorem
ipsum
sit
amet
consectetur
adipiscing
elit`,w=t.forwardRef(({original:s,modified:i,language:o,className:l},u)=>{const r=R(b()),n=t.useRef(null),x=t.useRef(),a=u||x,m=t.useMemo(()=>o==="text"?"on":"off",[o]);return t.useEffect(()=>{if(!(s===null||i===null))return a.current=c.createDiffEditor(n.current,{theme:r==="dark"?"vs-dark":"",enableSplitViewResizing:!0,renderSideBySide:!0,renderIndicators:!0,fontSize:14,contextmenu:!1,readOnly:!0,scrollBeyondLastLine:!1,automaticLayout:!0,ignoreTrimWhitespace:!1,wordWrap:m,padding:{top:16,bottom:16},minimap:{enabled:!1},scrollbar:{horizontalScrollbarSize:8,verticalScrollbarSize:8}}),a.current.setModel({original:c.createModel(s,o),modified:c.createModel(i,o)}),()=>a.current.dispose()},[s,i,o]),t.useEffect(()=>{c.setTheme(r==="dark"?"vs-dark":"")},[r]),e.jsx("div",{ref:n,className:`border border-solid border-gray-300 h-full ${l}`,children:(s===null||i===null)&&e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(C,{})})})}),W=()=>{const s=t.useRef(null),i=t.useRef(null),o=t.useRef(null),l=t.useRef(null),[u]=d.useForm(),r=t.useRef({originalText:"",changedText:""}),[n,x]=t.useState({originalText:null,changedText:null}),a=()=>{r.current.originalText=p,r.current.changedText=T,s.current.setValue(p),i.current.setValue(T)},m=f=>{r.current.originalText=f},j=f=>{r.current.changedText=f},S=()=>{x({originalText:r.current.originalText,changedText:r.current.changedText}),y(()=>{l.current.scrollIntoView()},100)};return e.jsx(v,{View:e.jsxs(d,{form:u,layout:"vertical",size:"large",requiredMark:"optional",children:[e.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8",children:[e.jsx(d.Item,{label:"Original text",required:!0,className:"basis-0 grow",children:e.jsx("div",{className:"h-[250px]",children:e.jsx(h,{ref:s,code:r.current.originalText,language:"text",onChange:m})})}),e.jsx(d.Item,{label:"Changed text",required:!0,className:"basis-0 grow",children:e.jsx("div",{className:"h-[250px]",children:e.jsx(h,{ref:i,code:r.current.changedText,language:"text",onChange:j})})})]}),e.jsx("div",{className:"text-center mt-4 mb-8",children:e.jsxs(E,{children:[e.jsx(g,{size:"large",onClick:a,children:"Sample"}),e.jsx(g,{type:"primary",icon:e.jsx(N,{}),size:"large",onClick:S,children:"Check difference"})]})}),n.originalText!==null&&n.changedText!==null&&e.jsxs("div",{className:"scroll-mt-32 h-[500px]",ref:l,children:[n.originalText===n.changedText&&e.jsx(k,{message:"The texts are identical.",type:"success",className:"text-center mb-8"}),e.jsx(w,{ref:o,original:n.originalText,modified:n.changedText,language:"text"})]})]})})};export{W as default};
