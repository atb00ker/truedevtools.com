import{r as m,j as e,M as c,R as d}from"./index-B29v6BxU.js";import{I as v}from"./InputOutputLayout.component-BoBRvJwD.js";import{u as y}from"./useCopyText.hooks-ZnP4Qh_q.js";import{F as i}from"./index-B1ozlsfn.js";import{S as b}from"./index-4FXU7HAO.js";import"./row-BuWWOgRE.js";import"./useShowArrow-DoHM4MnH.js";import"./DownOutlined-DP9_ryZt.js";const x=(s,r)=>{if(s===0)return"0";if(r<2)throw new Error("Invalid base");{let a="";for(;s>0;)a=s%r+a,s=Math.floor(s/r);return a}},f=(s,r)=>{if(r<2)throw new Error("Invalid base");let a=0,l=s.length-1;for(const o of s.toUpperCase()){let t;if(/[0-9]/.test(o))t=parseInt(o);else if(/[A-F]/.test(o)&&r>10)t=o.charCodeAt(0)-55;else throw new Error(`Invalid character '${o}' in base ${r}`);if(t>=r)throw new Error(`Invalid character '${o}' in base ${r}`);a+=t*r**l,l--}return a},V=()=>{const[s]=i.useForm(),[r]=i.useForm(),a=y(),[l,o]=m.useState({base:10,value:"100"}),[t,p]=m.useState({binary:"",octal:"",decimal:"",hex:""});m.useEffect(()=>{let u=l.value.trim();u||(u="0");try{const n=f(u,l.base);p({binary:x(n,2),octal:x(n,8),decimal:String(n),hex:x(n,16)})}catch{p({binary:"",octal:"",decimal:"",hex:""})}},[l]),m.useEffect(()=>{r.setFieldsValue(t)},[r,t]);const h=u=>{o({...l,...u})};return e.jsx(v,{InputView:e.jsxs(i,{form:s,layout:"vertical",size:"large",requiredMark:"optional",initialValues:l,validateMessages:{required:"This field is required"},onValuesChange:h,children:[e.jsx(i.Item,{label:"Select base:",name:"base",rules:[{required:!0}],children:e.jsx(b,{options:[{value:2,label:e.jsx(e.Fragment,{children:"Base 2 (Binary)"})},{value:8,label:e.jsx(e.Fragment,{children:"Base 8 (Octal)"})},{value:10,label:e.jsx(e.Fragment,{children:"Base 10 (Decimal)"})},{value:16,label:e.jsx(e.Fragment,{children:"Base 16 (Hex)"})}]})}),e.jsx(i.Item,{label:"Value:",name:"value",rules:[{required:!0},{validator:(u,n)=>{try{return f(n,l.base),Promise.resolve()}catch(j){return Promise.reject(j.message)}}}],children:e.jsx(c,{placeholder:"0"})})]}),OutputView:e.jsxs(i,{form:r,layout:"vertical",size:"large",requiredMark:"optional",initialValues:t,validateMessages:{required:"This field is required"},children:[e.jsx(i.Item,{label:"Base 2 (Binary)",name:"binary",rules:[{required:!0}],children:e.jsx(c,{readOnly:!0,suffix:e.jsx(d,{className:"cursor-pointer",onClick:()=>a(t.binary)})})}),e.jsx(i.Item,{label:"Base 8 (Octal)",name:"octal",rules:[{required:!0}],children:e.jsx(c,{readOnly:!0,suffix:e.jsx(d,{className:"cursor-pointer",onClick:()=>a(t.octal)})})}),e.jsx(i.Item,{label:"Base 10 (Decimal)",name:"decimal",rules:[{required:!0}],children:e.jsx(c,{readOnly:!0,suffix:e.jsx(d,{className:"cursor-pointer",onClick:()=>a(t.decimal)})})}),e.jsx(i.Item,{label:"Base 16 (Hex)",name:"hex",rules:[{required:!0}],children:e.jsx(c,{readOnly:!0,suffix:e.jsx(d,{className:"cursor-pointer",onClick:()=>a(t.hex)})})})]})})};export{V as default};
