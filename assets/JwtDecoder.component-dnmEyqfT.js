import{u as w,r as d,j as t,B as f,P as y,s as x,ah as b}from"./index-B29v6BxU.js";import{I as k}from"./InputOutputLayout.component-BoBRvJwD.js";import{C as l}from"./CodeEditor.component-B5BAun56.js";import{b as m}from"./beautifyJs.utils-CbHmWqz1.js";import{S}from"./index-DPoiLd4a.js";import{R as J}from"./ArrowRightOutlined-sZDoccLc.js";import{F as p}from"./index-B1ozlsfn.js";import"./editorWorker-CA1WEzK_.js";import"./index-Dq9QpCbE.js";import"./gapSize-U1swVQyS.js";import"./row-BuWWOgRE.js";class c extends Error{}c.prototype.name="InvalidTokenError";function v(o){return decodeURIComponent(atob(o).replace(/(.)/g,(e,r)=>{let a=r.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function C(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return v(e)}catch{return atob(e)}}function h(o,e){if(typeof o!="string")throw new c("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,a=o.split(".")[r];if(typeof a!="string")throw new c(`Invalid token specified: missing part #${r+1}`);let s;try{s=C(a)}catch(i){throw new c(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new c(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}const g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",$=()=>{const o=w(),e=d.useRef(null),r=d.useRef({jwt:""}),a=()=>{var n;u(g),(n=e.current)==null||n.setValue(g)},[s,i]=d.useState(null),j=()=>{try{const n=h(r.current.jwt,{header:!0}),I=h(r.current.jwt);i({header:m(JSON.stringify(n),{indentSize:2}),payload:m(JSON.stringify(I),{indentSize:2})}),o(x())}catch{o(b("Invalid JWT token"))}},u=n=>{r.current.jwt=n};return t.jsx(k,{InputToolbar:t.jsxs(S,{children:[t.jsx(f,{size:"large",onClick:a,children:"Sample"}),t.jsx(f,{type:"primary",icon:t.jsx(J,{}),size:"large",onClick:j,children:"Parse"})]}),InputView:t.jsx(l,{language:"text",ref:e,code:r.current.jwt,onChange:u}),OutputView:s===null?t.jsx("div",{className:"h-full min-h-[250px] flex items-center justify-center border border-solid border-gray-300",children:t.jsx(y,{})}):t.jsxs(p,{layout:"vertical",size:"large",requiredMark:"optional",children:[t.jsx(p.Item,{label:"Header",required:!0,children:t.jsx(l,{code:s.header,language:"json",readonly:!0})}),t.jsx(p.Item,{label:"Payload",required:!0,children:t.jsx(l,{code:s.payload,language:"json",readonly:!0})})]})})};export{$ as default};
