import{g as y,u as I,r as v,j as r,B as C,R as b,s as _}from"./index-CL14asXn.js";import{u as O}from"./useCopyText.hooks-C1MaivK6.js";import{I as w}from"./InputOutputLayout.component-2nQ5MSfz.js";import{C as F}from"./CodeEditor.component-B0O-GlEp.js";import{j as T}from"./json-sample-BLi7ellX.js";import{S as E}from"./index-XRM7WuMU.js";import{R as j}from"./index-BvHqt4ng.js";import{R as A}from"./ArrowRightOutlined-HowPytUt.js";import"./editorWorker-CA1WEzK_.js";import"./gapSize-U1swVQyS.js";import"./useBubbleLock-CkECnJx5.js";var U=function(a){return(""+a).replace(/["'\\\n\r\u2028\u2029]/g,function(s){switch(s){case'"':case"'":case"\\":return"\\"+s;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};const k=y(U),R=a=>k(a);var S={exports:{}};/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */String.fromCodePoint||function(){var a=function(){try{var t={},p=Object.defineProperty,u=p(t,t,t)&&p}catch{}return u}(),s=String.fromCharCode,l=Math.floor,i=function(t){var p=16384,u=[],o,c,d=-1,x=arguments.length;if(!x)return"";for(var f="";++d<x;){var e=Number(arguments[d]);if(!isFinite(e)||e<0||e>1114111||l(e)!=e)throw RangeError("Invalid code point: "+e);e<=65535?u.push(e):(e-=65536,o=(e>>10)+55296,c=e%1024+56320,u.push(o,c)),(d+1==x||u.length>p)&&(f+=s.apply(null,u),u.length=0)}return f};a?a(String,"fromCodePoint",{value:i,configurable:!0,writable:!0}):String.fromCodePoint=i}();(function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=/\\(u\{([0-9A-Fa-f]+)\}|u([0-9A-Fa-f]{4})|x([0-9A-Fa-f]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|(['"tbrnfv0\\]))|\\U([0-9A-Fa-f]{8})/g,i={0:"\0",b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v","'":"'",'"':'"',"\\":"\\"},t=function(c){return String.fromCodePoint(parseInt(c,16))},p=function(c){return String.fromCodePoint(parseInt(c,8))},u=function(c){return c.replace(l,function(d,x,f,e,h,n,m,g){return f!==void 0?t(f):e!==void 0?t(e):h!==void 0?t(h):n!==void 0?p(n):g!==void 0?t(g):i[m]})};s.default=u,a.exports=s.default})(S,S.exports);var M=S.exports;const D=y(M),B=a=>D(a),W=()=>{const a=I(),s=O(),l=v.useRef(null),i=v.useRef({text:""}),[t,p]=v.useState("escape"),u=()=>{var m;const n=t==="escape"?T:R(T);e(n),(m=l.current)==null||m.setValue(n)},[o,c]=v.useState(null),d=v.useCallback((n,m)=>{let g="";return m==="unescape"?g=B(n.text):g=R(n.text),g},[]),x=()=>{s(o)},f=n=>{p(n.target.value)},e=n=>{i.current.text=n},h=()=>{const n=d(i.current,t);c(n),a(_())};return r.jsx(w,{InputToolbar:r.jsxs(E,{children:[r.jsxs(j.Group,{value:t,onChange:f,children:[r.jsx(j,{value:"escape",children:"Escape"}),r.jsx(j,{value:"unescape",children:"Unescape"})]}),r.jsx(C,{size:"large",onClick:u,children:"Sample"}),r.jsx(C,{type:"primary",icon:r.jsx(A,{}),size:"large",onClick:h,children:t==="escape"?"Escape":"Unescape"})]}),InputView:r.jsx(F,{ref:l,code:i.current.text,language:"text",onChange:e}),OutputToolbar:o===null?r.jsx(r.Fragment,{}):r.jsx(E,{children:r.jsx(C,{icon:r.jsx(b,{}),onClick:x,children:"Copy"})}),OutputView:r.jsx(F,{code:o,language:"text",readonly:!0})})};export{W as default};
